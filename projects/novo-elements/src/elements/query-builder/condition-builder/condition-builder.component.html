<form [formGroup]="parentForm">
  <novo-grid gap="1rem" columns="16rem 13rem 1fr">
    <novo-field class="condition-field">
      <novo-select
        placeholder="Choose a field..."
        formControlName="field"
        (onSelect)="onFieldSelect()"
        overlayWidth="24rem"
        overlayHeight="20rem"
        [style.minWidth.px]="160">
        <!-- <div class="field-select-picker"> -->
        <!--           <novo-nav theme="white" direction="vertical">
            <novo-tab *ngFor="let entity of config?.fields" (activeChange)="changeFieldOptions(entity)">
              {{ entity.label }}
            </novo-tab>
          </novo-nav> -->
        <novo-select-search [formControl]="searchTerm"></novo-select-search>
        <novo-optgroup class="filter-search-results">
          <ng-container *ngIf="results$ | async as results; else loading">
            <ng-container *ngIf="results.length; else empty">
              <novo-option *ngFor="let field of results" value="{{ fieldConfig.value }}.{{ field.name }}">
                {{ field.label || field.name }}
              </novo-option>
            </ng-container>
          </ng-container>
        </novo-optgroup>
        <!-- </div> -->
      </novo-select>
    </novo-field>

    <div class="condition-operator">
      <ng-container conditionOperatorOutlet></ng-container>
    </div>

    <div class="condition-input">
      <ng-container conditionInputOutlet></ng-container>
    </div>
  </novo-grid>
  <ng-content></ng-content>
</form>

<!-- EMPTY STATE TEMPLATE -->
<ng-template #empty>
  <novo-non-ideal-state>
    <novo-icon size="xl" color="grapefruit">search</novo-icon>
    <novo-title>No results found.</novo-title>
    <novo-text>Your search didn't find anything. Try searching for something else.</novo-text>
  </novo-non-ideal-state>
</ng-template>

<!-- LOADING TEMPLATE -->
<ng-template #loading>
  <novo-loading></novo-loading>
</ng-template>