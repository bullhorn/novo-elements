<div class="novo-control-container" [formGroup]="form">
    <!--Label-->
    <label [attr.for]="control.key">{{control.label}}</label>
    <!--Required Indicator-->
    <i [hidden]="!control.required" class="required-indicator" [ngClass]="{'bhi-circle': !isValid, 'bhi-check': isValid}"></i>
    <!--Form Controls-->
    <div class="novo-control-input {{control.controlType}}" [ngSwitch]="control.controlType">
        <!--Text-based Inputs-->
        <div class="novo-control-input-container novo-control-input-with-label" *ngSwitchCase="'textbox'">
            <input [formControlName]="control.key" [id]="control.key" [type]="control.type" [placeholder]="control.placeholder">
            <label class="input-label" *ngIf="control.subType === 'currency'">{{getCurrencyLabel(control.currencyFormat)}}</label>
            <label class="input-label" *ngIf="control.subType === 'percentage'">%</label>
        </div>
        <!--TextArea-->
        <textarea *ngSwitchCase="'text-area'" [name]="control.key" [attr.id]="control.key" [placeholder]="control.placeholder" [formControlName]="control.key" (input)="resizeTextArea($event)"></textarea>
        <!--Editor-->
        <novo-editor *ngSwitchCase="'editor'" [formControlName]="control.key"></novo-editor>
        <!--HTML5 Select-->
        <select [id]="control.key" *ngSwitchCase="'native-select'" [formControlName]="control.key">
            <option *ngIf="control.placeholder" value="" disabled selected hidden>{{control.placeholder}}</option>
            <option *ngFor="let opt of control.options" [value]="opt.key">{{opt.value}}</option>
        </select>
        <!--Tiles-->
        <novo-tiles *ngSwitchCase="'tiles'" [options]="control.options" [formControlName]="control.key"></novo-tiles>
        <!--Picker-->
        <div class="novo-control-input-container" *ngSwitchCase="'picker'">
            <novo-picker [config]="control.config" [formControlName]="control.key" [placeholder]="control.placeholder" *ngIf="!control.multiple"></novo-picker>
            <chips [source]="control.config" [formControlName]="control.key" [placeholder]="control.placeholder" *ngIf="control.multiple"></chips>
            <i class="bhi-search"></i>
        </div>
        <!--Novo Select-->
        <novo-select *ngSwitchCase="'select'" [options]="control.options" [headerConfig]="control.headerConfig" [placeholder]="control.placeholder" [formControlName]="control.key"></novo-select>
        <!--Radio-->
        <div class="novo-control-input-container" *ngSwitchCase="'radio'">
            <novo-radio [vertical]="vertical" [name]="control.key" [formControlName]="control.key" *ngFor="let option of control.options" [value]="option.key" [label]="option.value"></novo-radio>
        </div>
        <!--Time-->
        <div class="novo-control-input-container" *ngSwitchCase="'time'">
            <input [name]="control.key" type="text" [attr.id]="control.key" [placeholder]="control.placeholder" (click)="toggleActive($event)" [value]="formattedValue" readonly/>
            <i (click)="toggleActive($event)" class="bhi-clock"></i>
            <novo-time-picker [hidden]="!active" (onSelect)="formatDateTimeValue($event)" [formControlName]="control.key"></novo-time-picker>
        </div>
        <!--Date-->
        <div class="novo-control-input-container" *ngSwitchCase="'date'">
            <input [name]="control.key" type="text" [attr.id]="control.key" [placeholder]="control.placeholder" (click)="toggleActive($event)" [value]="formattedValue" readonly/>
            <i (click)="toggleActive($event)" class="bhi-clock"></i>
            <novo-date-picker inline="true" [hidden]="!active" (onSelect)="formatDateTimeValue($event)" [formControlName]="control.key"></novo-date-picker>
        </div>
        <!--Date and Time-->
        <div class="novo-control-input-container" *ngSwitchCase="'date-time'">
            <input [name]="control.key" type="text" [attr.id]="control.key" [placeholder]="control.placeholder" (click)="toggleActive($event)" [value]="formattedValue" readonly/>
            <i (click)="toggleActive($event)" class="bhi-clock"></i>
            <div class="date-time-container">
                <novo-date-picker inline="true" [hidden]="!active" (onSelect)="formatDateTimeValue($event, 'date')" [formControlName]="control.key"></novo-date-picker>
                <novo-time-picker [hidden]="!active" (onSelect)="formatDateTimeValue($event, 'time')" [formControlName]="control.key"></novo-time-picker>
            </div>
        </div>
        <!--Address-->
        <novo-address *ngSwitchCase="'address'" [formControlName]="control.key"></novo-address>
        <!--Checkbox-->
        <novo-checkbox *ngSwitchCase="'checkbox'" [formControlName]="control.key" [name]="control.key"></novo-checkbox>
        <!--Checklist-->
        <novo-check-list *ngSwitchCase="'checklist'" [formControlName]="control.key" [name]="control.key" [options]="control.options"></novo-check-list>
        <!--Error Message-->
        <div class="error-message" *ngIf="isDirty && errors?.required">{{control.label | uppercase}} is required</div>
        <div class="error-message" *ngIf="isDirty && errors?.invalidEmail">{{control.label | uppercase}} requires a valid email (ex. abc@123.com)</div>
        <div class="error-message" *ngIf="isDirty && errors?.invalidAddress">{{control.label | uppercase}} requires all fields filled out</div>
        <div class="error-message" *ngIf="isDirty && (errors?.integerTooLarge || errors?.doubleTooLarge)">{{control.label | uppercase}} is too large</div>
    </div>
</div>
